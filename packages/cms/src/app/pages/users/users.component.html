<app-main-layout>
  <ng-container nav-title> Users </ng-container>

  @if (isLoading()) {
    <span class="loading loading-spinner loading-lg block mx-auto my-24"></span>
  } @else {
    <table class="table mb-28">
      <thead>
        <tr
          class="sticky top-[var(--navbar-height)] bg-base-100 border-b-0 shadow-[inset_0_-1px_0_oklch(var(--b2))] z-[2]"
        >
          <th>Email</th>
          <th>Username</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (user of users(); track $index) {
          <app-users-table-row [user]="user" [alt-bg]="$index % 2 === 0" />
        }
      </tbody>
    </table>
  }

  <!-- `nav-content` is a selector for the navbar component's `ng-content` -->
  <ng-container nav-content>
    <button class="btn btn-primary min-h-0 h-9 ml-auto" (click)="addUser()">
      <i class="fa fa-plus"></i>
      Add User
    </button>
  </ng-container>
</app-main-layout>

<app-add-user />
